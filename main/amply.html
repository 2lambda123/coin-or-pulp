

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Amply &mdash; PuLP 2.4 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pulp" href="includeme.html" />
    <link rel="prev" title="Installing PuLP at Home" href="installing_pulp_at_home.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> PuLP
          

          
          </a>

          
            
            
              <div class="version">
                2.4
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Main Topics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="the_optimisation_process.html">The Optimisation Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="optimisation_concepts.html">Optimisation Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="basic_python_coding.html">Basic Python Coding</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing_pulp_at_home.html">Installing PuLP at Home</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Amply</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#introduction">Introduction</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#declarations-and-data-statements">Declarations and data statements</a></li>
<li class="toctree-l4"><a class="reference internal" href="#about-this-document">About this document</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#quickstart-guide">Quickstart Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="includeme.html">README</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../CaseStudies/index.html">Case Studies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../guides/index.html">User Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../technical/index.html">PuLP Internal Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../plugins/index.html">Plugins</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PuLP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">Main Topics</a> &raquo;</li>
        
      <li>Amply</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/main/amply.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="amply">
<h1>Amply<a class="headerlink" href="#amply" title="Permalink to this headline">¶</a></h1>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<p>Amply allows you to load and manipulate AMPL data as Python data structures.</p>
<p>Amply only supports a specific subset of the AMPL syntax:</p>
<ul class="simple">
<li><p>set declarations</p></li>
<li><p>set data statements</p></li>
<li><p>parameter declarations</p></li>
<li><p>parameter data statements</p></li>
</ul>
<div class="section" id="declarations-and-data-statements">
<h3>Declarations and data statements<a class="headerlink" href="#declarations-and-data-statements" title="Permalink to this headline">¶</a></h3>
<p>Typically, problems expressed in AMPL consist of two parts, a <em>model</em> section and a <em>data</em> section.
Amply is only designed to parse the parameter and set statements contained within AMPL data sections.
However, in order to parse these statements correctly, information that would usually be contained
within the model section may be required. For instance, it may not be possible to infer the dimension
of a set purely from its data statement. Therefore, Amply also supports set and parameter declarations.
These do not have to be put in a separate section, they only need to occur before the corresponding
data statement.</p>
<p>The declaration syntax supported is extremely limited, and does not include most
elements of the AMPL programming language. The intention is that this library
is used as a way of loading data specified in an AMPL-like syntax.</p>
<p>Furthermore, Amply does not perform any validation on data statements.</p>
</div>
<div class="section" id="about-this-document">
<h3>About this document<a class="headerlink" href="#about-this-document" title="Permalink to this headline">¶</a></h3>
<p>This document is intended as a guide to the syntax supported by Amply, and not as a general
AMPL reference manual. For more in depth coverage see the <a class="reference external" href="http://www.cs.unb.ca/~bremner/docs/glpk/gmpl.pdf">GNU MathProg manual, Chapter 5: Model data</a> or the following links:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://twiki.esc.auckland.ac.nz/twiki/bin/view/OpsRes/SetsInAMPL">Sets in AMPL</a></p></li>
<li><p><a class="reference external" href="http://twiki.esc.auckland.ac.nz/twiki/bin/view/OpsRes/ParametersInAMPL">Parameters in AMPL</a></p></li>
</ul>
</div>
</div>
<div class="section" id="quickstart-guide">
<h2>Quickstart Guide<a class="headerlink" href="#quickstart-guide" title="Permalink to this headline">¶</a></h2>
<p>Import the class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pulp</span> <span class="kn">import</span> <span class="n">Amply</span>
</pre></div>
</div>
<p>A simple set. Sets behave a lot like lists.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;set CITIES := Auckland Wellington Christchurch;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">CITIES</span>
<span class="go">&lt;SetObject: [&#39;Auckland&#39;, &#39;Wellington&#39;, &#39;Christchurch&#39;]&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;CITIES&#39;</span><span class="p">]</span>
<span class="go">&lt;SetObject: [&#39;Auckland&#39;, &#39;Wellington&#39;, &#39;Christchurch&#39;]&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">data</span><span class="o">.</span><span class="n">CITIES</span><span class="p">:</span> <span class="nb">print</span> <span class="n">c</span>
<span class="gp">...</span>
<span class="go">Auckland</span>
<span class="go">Wellington</span>
<span class="go">Christchurch</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">CITIES</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">Auckland</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="nb">len</span><span class="p">(</span><span class="n">data</span><span class="o">.</span><span class="n">CITIES</span><span class="p">)</span>
<span class="go">3</span>
</pre></div>
</div>
<p>Data can be integers, reals, symbolic, or quoted strings:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">  set BitsNPieces := 0 3.2 -6e4 Hello &quot;Hello, World!&quot;;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">BitsNPieces</span>
<span class="go">&lt;SetObject: [0.0, 3.2000000000000002, -60000.0, &#39;Hello&#39;, &#39;Hello, World!&#39;]&gt;</span>
</pre></div>
</div>
<p>Sets can contain multidimensional data, but we have to declare them to be so first.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">set pairs dimen 2;</span>
<span class="gp">... </span><span class="s2">set pairs := (1, 2) (2, 3) (3, 4);</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">pairs</span>
<span class="go">&lt;SetObject: [(1, 2), (2, 3), (3, 4)]&gt;</span>
</pre></div>
</div>
<p>Sets themselves can be multidimensional (i.e. be subscriptable):</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">set CITIES</span><span class="si">{COUNTRIES}</span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">set CITIES[Australia] := Adelaide Melbourne Sydney;</span>
<span class="gp">... </span><span class="s2">set CITIES[Italy] := Florence Milan Rome;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">CITIES</span><span class="p">[</span><span class="s1">&#39;Australia&#39;</span><span class="p">]</span>
<span class="go">[&#39;Adelaide&#39;, &#39;Melbourne&#39;, &#39;Sydney&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">CITIES</span><span class="p">[</span><span class="s1">&#39;Italy&#39;</span><span class="p">]</span>
<span class="go">[&#39;Florence&#39;, &#39;Milan&#39;, &#39;Rome&#39;]</span>
</pre></div>
</div>
<p>Note that in the above example, the set COUNTRIES didn’t actually have to exist itself.
Amply does not perform any validation on subscripts, it only uses them to figure out
how many subscripts a set has. To specify more than one, separate them by commas:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">set SUBURBS{COUNTRIES, CITIES};</span>
<span class="gp">... </span><span class="s2">set SUBURBS[Australia, Melbourne] := Docklands &#39;South Wharf&#39; Kensington;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">SUBURBS</span><span class="p">[</span><span class="s1">&#39;Australia&#39;</span><span class="p">,</span> <span class="s1">&#39;Melbourne&#39;</span><span class="p">]</span>
<span class="go">[&#39;Docklands&#39;, &#39;South Wharf&#39;, &#39;Kensington&#39;]</span>
</pre></div>
</div>
<p><em>Slices</em> can be used to simplify the entry of multi-dimensional data.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">=</span><span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">set TRIPLES dimen 3;</span>
<span class="gp">... </span><span class="s2">set TRIPLES := (1, 1, *) 2 3 4 (*, 2, *) 6 7 8 9 (*, *, *) (1, 1, 1);</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">TRIPLES</span>
<span class="go">&lt;SetObject: [(1, 1, 2), (1, 1, 3), (1, 1, 4), (6, 2, 7), (8, 2, 9), (1, 1, 1)]&gt;</span>
<span class="go">&gt;</span>
</pre></div>
</div>
<p>Set data can also be specified using a matrix notation.
A ‘+’ indicates that the pair is included in the set whereas a ‘-‘ indicates a
pair not in the set.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">=</span><span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">set ROUTES dimen 2;</span>
<span class="gp">... </span><span class="s2">set ROUTES : A B C D :=</span>
<span class="gp">... </span><span class="s2">           E + - - +</span>
<span class="gp">... </span><span class="s2">           F + + - -</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">ROUTES</span>
<span class="go">&lt;SetObject: [(&#39;E&#39;, &#39;A&#39;), (&#39;E&#39;, &#39;D&#39;), (&#39;F&#39;, &#39;A&#39;), (&#39;F&#39;, &#39;B&#39;)]&gt;</span>
</pre></div>
</div>
<p>Matrices can also be transposed:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span><span class="o">=</span><span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">set ROUTES dimen 2;</span>
<span class="gp">... </span><span class="s2">set ROUTES (tr) : E F :=</span>
<span class="gp">... </span><span class="s2">                A + +</span>
<span class="gp">... </span><span class="s2">                B - +</span>
<span class="gp">... </span><span class="s2">                C - -</span>
<span class="gp">... </span><span class="s2">                D + -</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">ROUTES</span>
<span class="go">&lt;SetObject: [(&#39;E&#39;, &#39;A&#39;), (&#39;F&#39;, &#39;A&#39;), (&#39;F&#39;, &#39;B&#39;), (&#39;E&#39;, &#39;D&#39;)]&gt;</span>
</pre></div>
</div>
<p>Matrices only specify 2d data, however they can be combined with slices
to define higher-dimensional data:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">set QUADS dimen 2;</span>
<span class="gp">... </span><span class="s2">set QUADS :=</span>
<span class="gp">... </span><span class="s2">(1, 1, *, *) : 2 3 4 :=</span>
<span class="gp">... </span><span class="s2">             2 + - +</span>
<span class="gp">... </span><span class="s2">             3 - + +</span>
<span class="gp">... </span><span class="s2">(1, 2, *, *) : 2 3 4 :=</span>
<span class="gp">... </span><span class="s2">             2 - + -</span>
<span class="gp">... </span><span class="s2">             3 + - -</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">QUADS</span>
<span class="go">&lt;SetObject: [(1, 1, 2, 2), (1, 1, 2, 4), (1, 1, 3, 3), (1, 1, 3, 4), (1, 2, 2, 3), (1, 2, 3, 2)]&gt;</span>
</pre></div>
</div>
<p>Parameters are also supported:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param T := 30;</span>
<span class="gp">... </span><span class="s2">param n := 5;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">T</span>
<span class="go">30</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">n</span>
<span class="go">5</span>
</pre></div>
</div>
<p>Parameters are commonly indexed over sets. No validation is done by Amply,
and the sets do not have to exist. Parameter objects are represented
as a mapping.</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param COSTS</span><span class="si">{PRODUCTS}</span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">param COSTS :=</span>
<span class="gp">... </span><span class="s2">  FISH 8.5</span>
<span class="gp">... </span><span class="s2">  CARROTS 2.4</span>
<span class="gp">... </span><span class="s2">  POTATOES 1.6</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span>
<span class="go">&lt;ParamObject: {&#39;POTATOES&#39;: 1.6000000000000001, &#39;FISH&#39;: 8.5, &#39;CARROTS&#39;: 2.3999999999999999}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span><span class="p">[</span><span class="s1">&#39;FISH&#39;</span><span class="p">]</span>
<span class="go">8.5</span>
</pre></div>
</div>
<p>Parameter data statements can include a <em>default</em> clause. If a ‘.’ is included
in the data, it is replaced with the default value:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param COSTS</span><span class="si">{P}</span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">param COSTS default 2 :=</span>
<span class="gp">... </span><span class="s2">F 2</span>
<span class="gp">... </span><span class="s2">E 1</span>
<span class="gp">... </span><span class="s2">D .</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span><span class="p">[</span><span class="s1">&#39;D&#39;</span><span class="p">]</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>Parameter declarations can also have a default clause. For these parameters,
any attempt to access the parameter for a key that has not been defined
will return the default value:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param COSTS</span><span class="si">{P}</span><span class="s2"> default 42;</span>
<span class="gp">... </span><span class="s2">param COSTS :=</span>
<span class="gp">... </span><span class="s2">F 2</span>
<span class="gp">... </span><span class="s2">E 1</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span><span class="p">[</span><span class="s1">&#39;DOES NOT EXIST&#39;</span><span class="p">]</span>
<span class="go">42.0</span>
</pre></div>
</div>
<p>Parameters can be indexed over multiple sets. The resulting values can be
accessed by treating the parameter object as a nested dictionary, or by
using a tuple as an index:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param COSTS{CITIES, PRODUCTS};</span>
<span class="gp">... </span><span class="s2">param COSTS :=</span>
<span class="gp">... </span><span class="s2"> Auckland FISH 5</span>
<span class="gp">... </span><span class="s2"> Auckland CHIPS 3</span>
<span class="gp">... </span><span class="s2"> Wellington FISH 4</span>
<span class="gp">... </span><span class="s2"> Wellington CHIPS 1</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span>
<span class="go">&lt;ParamObject: {&#39;Wellington&#39;: {&#39;FISH&#39;: 4.0, &#39;CHIPS&#39;: 1.0}, &#39;Auckland&#39;: {&#39;FISH&#39;: 5.0, &#39;CHIPS&#39;: 3.0}}&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span><span class="p">[</span><span class="s1">&#39;Wellington&#39;</span><span class="p">][</span><span class="s1">&#39;CHIPS&#39;</span><span class="p">]</span> <span class="c1"># nested dict</span>
<span class="go">1.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span><span class="p">[</span><span class="s1">&#39;Wellington&#39;</span><span class="p">,</span> <span class="s1">&#39;CHIPS&#39;</span><span class="p">]</span> <span class="c1"># tuple as key</span>
<span class="go">1.0</span>
</pre></div>
</div>
<p>Parameters support a slice syntax similar to that of sets:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param COSTS{CITIES, PRODUCTS};</span>
<span class="gp">... </span><span class="s2">param COSTS :=</span>
<span class="gp">... </span><span class="s2"> [Auckland, * ]</span>
<span class="gp">... </span><span class="s2">  FISH 5</span>
<span class="gp">... </span><span class="s2">  CHIPS 3</span>
<span class="gp">... </span><span class="s2"> [Wellington, * ]</span>
<span class="gp">... </span><span class="s2">  FISH 4</span>
<span class="gp">... </span><span class="s2">  CHIPS 1</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span>
<span class="go">&lt;ParamObject: {&#39;Wellington&#39;: {&#39;FISH&#39;: 4.0, &#39;CHIPS&#39;: 1.0}, &#39;Auckland&#39;: {&#39;FISH&#39;: 5.0, &#39;CHIPS&#39;: 3.0}}&gt;</span>
</pre></div>
</div>
<p>Parameters indexed over two sets can also be specified in tabular format:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param COSTS{CITIES, PRODUCTS};</span>
<span class="gp">... </span><span class="s2">param COSTS: FISH CHIPS :=</span>
<span class="gp">... </span><span class="s2"> Auckland    5    3</span>
<span class="gp">... </span><span class="s2"> Wellington  4    1</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span>
<span class="go">&lt;ParamObject: {&#39;Wellington&#39;: {&#39;FISH&#39;: 4.0, &#39;CHIPS&#39;: 1.0}, &#39;Auckland&#39;: {&#39;FISH&#39;: 5.0, &#39;CHIPS&#39;: 3.0}}&gt;</span>
</pre></div>
</div>
<p>Tabular data can also be transposed:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param COSTS{CITIES, PRODUCTS};</span>
<span class="gp">... </span><span class="s2">param COSTS (tr): Auckland Wellington :=</span>
<span class="gp">... </span><span class="s2">           FISH   5        4</span>
<span class="gp">... </span><span class="s2">           CHIPS  3        1</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span>
<span class="go">&lt;ParamObject: {&#39;Wellington&#39;: {&#39;FISH&#39;: 4.0, &#39;CHIPS&#39;: 1.0}, &#39;Auckland&#39;: {&#39;FISH&#39;: 5.0, &#39;CHIPS&#39;: 3.0}}&gt;</span>
</pre></div>
</div>
<p>Slices can be combined with tabular data for parameters indexed over more than
2 sets:</p>
<div class="highlight-pycon3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">param COSTS{CITIES, PRODUCTS, SIZE};</span>
<span class="gp">... </span><span class="s2">param COSTS :=</span>
<span class="gp">... </span><span class="s2"> [Auckland, *, *] :   SMALL LARGE :=</span>
<span class="gp">... </span><span class="s2">                FISH  5     9</span>
<span class="gp">... </span><span class="s2">                CHIPS 3     5</span>
<span class="gp">... </span><span class="s2"> [Wellington, *, *] : SMALL LARGE :=</span>
<span class="gp">... </span><span class="s2">                FISH  4     7</span>
<span class="gp">... </span><span class="s2">                CHIPS 1     2</span>
<span class="gp">... </span><span class="s2">;</span>
<span class="gp">... </span><span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span> <span class="n">data</span><span class="o">.</span><span class="n">COSTS</span>
<span class="go">&lt;ParamObject: {&#39;Wellington&#39;: {&#39;FISH&#39;: {&#39;SMALL&#39;: 4.0, &#39;LARGE&#39;: 7.0}, &#39;CHIPS&#39;: {&#39;SMALL&#39;: 1.0, &#39;LARGE&#39;: 2.0}}, &#39;Auckland&#39;: {&#39;FISH&#39;: {&#39;SMALL&#39;: 5.0, &#39;LARGE&#39;: 9.0}, &#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<p>All functionality is contained within the <code class="docutils literal notranslate"><span class="pre">Amply</span></code> class.</p>
<dl class="py class">
<dt id="Amply">
<em class="property">class </em><code class="sig-name descname">Amply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Amply" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py method">
<dt id="Amply.load_string">
<code class="sig-name descname">load_string</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">string</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Amply.load_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse string data.</p>
</dd></dl>

<dl class="py method">
<dt id="Amply.load_file">
<code class="sig-name descname">load_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Amply.load_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse contents of file or file-like object (has a read() method).</p>
</dd></dl>

<dl class="py method">
<dt id="Amply.from_file">
<em class="property">static </em><code class="sig-name descname">from_file</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#Amply.from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Alternate constructor. Create Amply object from contents of file or file-like object.</p>
</dd></dl>

</dd></dl>

<p>The parsed data structures can then be accessed from an <code class="docutils literal notranslate"><span class="pre">Amply</span></code> object via
attribute lookup (if the name of the symbol is a valid Python name) or item
lookup.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pulp</span> <span class="kn">import</span> <span class="n">Amply</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;set CITIES := Auckland Hamilton Wellington&quot;</span><span class="p">)</span>

<span class="c1"># attribute lookup</span>
<span class="k">assert</span> <span class="n">data</span><span class="o">.</span><span class="n">CITIES</span> <span class="o">==</span> <span class="p">[</span><span class="s1">&#39;Auckland&#39;</span><span class="p">,</span> <span class="s1">&#39;Hamilton&#39;</span><span class="p">,</span> <span class="s1">&#39;Wellington&#39;</span><span class="p">]</span>

<span class="c1"># item lookup</span>
<span class="k">assert</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;CITIES&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">data</span><span class="o">.</span><span class="n">CITIES</span>
</pre></div>
</div>
<p>Note that additional data may be loaded into an Amply object simply by calling
one of its methods. A common idiom might be to specify the set and parameter
declarations within your Python script, then load the actual data from
external files.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pulp</span> <span class="kn">import</span> <span class="n">Amply</span>

<span class="n">data</span> <span class="o">=</span> <span class="n">Amply</span><span class="p">(</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2">  set CITIES;</span>
<span class="s2">  set ROUTES dimen 2;</span>
<span class="s2">  param COSTS</span><span class="si">{ROUTES}</span><span class="s2">;</span>
<span class="s2">  param DISTANCES</span><span class="si">{ROUTES}</span><span class="s2">;</span>
<span class="s2">&quot;&quot;&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">data_file</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;cities.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;routes.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;costs.dat&#39;</span><span class="p">,</span> <span class="s1">&#39;distances.dat&#39;</span><span class="p">):</span>
    <span class="n">data</span><span class="o">.</span><span class="n">load_file</span><span class="p">(</span><span class="nb">open</span><span class="p">(</span><span class="n">data_file</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="includeme.html" class="btn btn-neutral float-right" title="pulp" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installing_pulp_at_home.html" class="btn btn-neutral float-left" title="Installing PuLP at Home" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2009-, pulp documentation team..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>